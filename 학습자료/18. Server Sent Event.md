## Server Sent Events(SSE) ?

> **Server-Sent Events**λ” μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈ(μ£Όλ΅ μ›Ή λΈλΌμ°μ €)λ΅ μΌλ°©μ μΌλ΅ λ°μ΄ν„°λ¥Ό μ§€μ†μ μΌλ΅ λ³΄λ‚΄λ” λ°©μ‹μ…λ‹λ‹¤. μ΄ κΈ°μ μ„ μ‚¬μ©ν•λ©΄ μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈμ μ”μ²­ μ—†μ΄λ„ μ‹¤μ‹κ°„μΌλ΅ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•  μ μμ–΄, μ‹¤μ‹κ°„ μ—…λ°μ΄νΈκ°€ ν•„μ”ν• μ• ν”λ¦¬μΌ€μ΄μ…μ— μ ν•©ν•©λ‹λ‹¤.

![](https://velog.velcdn.com/images/njt6419/post/43633e26-cf1d-47dd-9031-e96b208b6498/image.webp)

κΈ°μ΅΄μ—λ” μ„λ²„μ λ³€κ²½λ λ°μ΄ν„°λ¥Ό κ°€μ Έμ¤κΈ° μ„ν•΄μ„ νμ΄μ§€ μƒλ΅κ³ μΉ¨, μ§€μ†μ μΌλ΅ requestλ¥Ό λ³΄λ‚΄λ” **ν΄λ§**, μ™Έλ¶€ ν”λ¬κ·ΈμΈ μ΄μ© λ“±μ„ μ‚¬μ©ν•΄μ•Ό ν–μµλ‹λ‹¤. μ΄μ™Έμ—λ„ **websocket**μ„ μ‚¬μ©ν•  μ μμ§€λ§ HTTP ν†µμ‹ μ„ μ΄μ©ν•λ” κ²ƒμ΄ μ•„λ‹ μ›Ήμ†μΌ“λ§μ„ μ„ν• λ³„λ„μ μ„λ²„μ™€ ν”„λ΅ν† μ½λ΅ ν†µμ‹ ν•κΈ° λ•λ¬Έμ— κµ¬ν„ν•λ”λΉ„μ©μ΄ λ§μ΄ λ“ λ‹¤λ” λ‹¨μ μ΄ μμµλ‹λ‹¤. ν•μ§€λ§ **SSE**λ” κΈ°μ΅΄ HTTP μ›Ή μ„λ²„μ—μ„ HTTP API λ§μΌλ΅ λ™μ‘λλ©° κµ¬ν„λ„ κ°„λ‹¨ν•κΈ° λ•λ¬Έμ— μ„λ²„μ™€ ν”„λ΅ νΈμ—”λ“ μ–‘μΈ΅ λ¨λ‘ λ§¤μ° μ‰½κ² κ°λ°μ΄ κ°€λ¥ν•©λ‹λ‹¤.

<br/>

### Server Sent Eventsμ™€ Polling, WebSocketμ μ°¨μ΄μ 

**1 ) Server Sent events vs Polling**

**Polling**μ€ ν΄λΌμ΄μ–ΈνΈκ°€ μΌμ •ν• μ£ΌκΈ°λ΅ μ„λ²„μ— λ°μ΄ν„°λ¥Ό μ”μ²­ν•λ” λ°©μ‹μ…λ‹λ‹¤. μ¦‰, ν΄λΌμ΄μ–ΈνΈλ” μ •ν•΄μ§„ κ°„κ²©μΌλ΅ μ„λ²„μ— HTTP μ”μ²­μ„ λ³΄λ‚΄κ³  μ„λ²„λ” κ·Έμ— λ€ν• μ‘λ‹µμ„ λ°ν™ν•©λ‹λ‹¤.

Pollingμ€ ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— μ£ΌκΈ°μ μΌλ΅ μ”μ²­μ„ λ³΄λ‚΄λ” λ°©μ‹μ΄κ³ , **SSE**λ” μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ— ν•„μ”ν• λ°μ΄ν„°λ¥Ό **μλ™μΌλ΅ ν‘Έμ‹**ν•λ” λ°©μ‹μ…λ‹λ‹¤. SSEλ” μ„λ²„ μΈ΅ μ΄λ²¤νΈ λ°μƒ μ‹ λ°”λ΅ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•κΈ° λ•λ¬Έμ— ν΄λ§λ³΄λ‹¤ μ‹¤μ‹κ°„μ„±μ΄ λ›°μ–΄λ‚©λ‹λ‹¤.

**2 ) Server Sent evnets vs WebSocket**

**WebSocket** μ€ **μ–‘λ°©ν–¥ ν†µμ‹ **μ„ μ§€μ›ν•λ” ν”„λ΅ν† μ½μ…λ‹λ‹¤. ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ μ§€μ†μ μΈ μ—°κ²°μ„ μ μ§€ν•κ³ , μ–‘μ½ λ¨λ‘ μμ λ΅­κ² λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›μ„ μ μμµλ‹λ‹¤. HTTPλ” μ£Όλ΅ μ”μ²­-μ‘λ‹µ κΈ°λ°μΌλ΅ ν†µμ‹ μ΄ μ΄λ£¨μ–΄μ§€μ§€λ§, WebSocketμ€ **μ—°κ²°μ„ ν• λ² λ§ΊμΌλ©΄** μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ κ°„μ— μ‹¤μ‹κ°„μΌλ΅ λ°μ΄ν„° κµν™μ΄ κ°€λ¥ν•©λ‹λ‹¤.

WebSocketμ€ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ **μ–‘λ°©ν–¥μΌλ΅** λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›μ„ μ μμ§€λ§, SSEλ” **μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈλ΅ μΌλ°©ν–¥**μΌλ΅ λ°μ΄ν„°κ°€ μ „μ†΅λ©λ‹λ‹¤.

WebSocketμ€ μ–‘λ°©ν–¥ ν†µμ‹ μ„ μ„ν• ν”„λ΅ν† μ½ μ„¤μ •κ³Ό κ΄€λ¦¬κ°€ λ³µμ΅ν• λ°λ©΄, **SSEλ” λ” κ°„λ‹¨ν• μ„¤μ •**μΌλ΅λ„ μ‹¤μ‹κ°„ λ°μ΄ν„°λ¥Ό μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈλ΅ ν‘Έμ‹ν•  μ μμµλ‹λ‹¤.

WebSocketμ€ μ±„ν… μ• ν”λ¦¬μΌ€μ΄μ…, κ²μ„ λ“± **μ–‘λ°©ν–¥ μ‹¤μ‹κ°„** ν†µμ‹ μ΄ ν•„μ”ν• κ²½μ° μ ν•©ν•κ³ , SSEλ” μ£Όμ‹ μ‹μ„Έλ‚ λ‰΄μ¤ μ•λ¦Όμ²λΌ **μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈλ΅μ μΌλ°©ν–¥ μ—…λ°μ΄νΈ**κ°€ ν•„μ”ν• κ²½μ° λ” μ ν•©ν•©λ‹λ‹¤.

![](https://velog.velcdn.com/images/njt6419/post/f47229eb-1fba-4147-8352-f0bf88a3c704/image.png)

| **κΈ°μ ** | **ν†µμ‹  λ°©ν–¥** | **λΈλΌμ°μ € μ§€μ›** | **μ‹¤μ‹κ°„μ„±** | **λ°μ΄ν„° ν•νƒ** | **μλ™ μ¬μ ‘μ†** | **μµλ€ λ™μ‹ μ ‘μ† μ** | **ν”„λ΅ν† μ½** |
| --- | --- | --- | --- | --- | --- | --- | --- |
| **ν΄λ§** | λ‹¨λ°©ν–¥ | λ¨λ“  λΈλΌμ°μ €μ—μ„ μ§€μ› | λ‚®μ | UTF-8 | No | λΈλΌμ°μ € ν•λ„ μ—†μ, μ”μ²­ μμ— λ”°λΌ μ„λ²„ λ¶€ν• μ¦κ°€ | HTTP |
| **μ›Ήμ†μΌ“** | μ–‘λ°©ν–¥ | λ€λ¶€λ¶„ λΈλΌμ°μ € μ§€μ› | λ§¤μ° λ†’μ | Binary, UTF-8 | No | μ„λ²„ μ…‹μ—…μ— λ”°λΌ λ‹¤λ¦„, λΈλΌμ°μ € μ—°κ²° ν•λ„ μ—†μ | WebSocket |
| **SSE** | λ‹¨λ°©ν–¥ | λ€λ¶€λ¶„ λ¨λ λΈλΌμ°μ € μ§€μ› (pollyfills κ°€λ¥) | λ†’μ | UTF-8 | Yes (3μ΄λ§λ‹¤) | HTTPμ—μ„λ” λΈλΌμ°μ €λ‹Ή 6κ° μ—°κ²°, HTTP/2λ΅λ” 100κ° κΈ°λ³Έ μ§€μ› | HTTP |

<br/>

### Server Sent Eventsμ νΉμ§•

- **λ‹¨λ°©ν–¥ ν†µμ‹ **: μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ— λ°μ΄ν„°λ¥Ό ν‘Έμ‹ν•λ” λ°©μ‹μ…λ‹λ‹¤. ν΄λΌμ΄μ–ΈνΈλ” ν• λ² μ—°κ²°λ ν›„ μ„λ²„λ΅λ¶€ν„° μ§€μ†μ μΈ μ—…λ°μ΄νΈλ¥Ό λ°›μ„ μ μμµλ‹λ‹¤.
  
- **ν…μ¤νΈ κΈ°λ° ν”„λ΅ν† μ½**: μ„λ²„λ” `text/event-stream` MIME νƒ€μ…μ„ μ‚¬μ©ν•΄ μ΄λ²¤νΈλ¥Ό μ „μ†΅ν•λ©°, μ΄λ” ν…μ¤νΈ κΈ°λ°μ…λ‹λ‹¤.
  
- **κ°„λ‹¨ν• κµ¬ν„**: WebSocketμ²λΌ μ–‘λ°©ν–¥ ν†µμ‹ μ„ μ§€μ›ν•λ” λ‹¤λ¥Έ κΈ°μ μ— λΉ„ν•΄ κµ¬ν„μ΄ λ” κ°„λ‹¨ν•©λ‹λ‹¤.
  
- **λΈλΌμ°μ € μ§€μ›**: λ€λ¶€λ¶„μ μµμ‹  λΈλΌμ°μ €κ°€ SSEλ¥Ό κΈ°λ³Έμ μΌλ΅ μ§€μ›ν•©λ‹λ‹¤.
  
- **HTTP κΈ°λ°** : Connection μ μ§€λ¥Ό μ„ν•΄ HTTP protocol μ„ μ‚¬μ©, HTTP/2λ¥Ό ν†µν• multiplexing μ‚¬μ© κ°€λ¥

<br/>

### Server Sent Eventsμ μ¥μ 

- **κ°„λ‹¨ν• κµ¬ν„**: WebSocketμ— λΉ„ν•΄ μ„¤μ •μ΄ λ‹¨μν•λ©° μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ κ°„μ ν†µμ‹ μ΄ λ§¤μ° μ‰½κ² μ΄λ£¨μ–΄μ§‘λ‹λ‹¤.
  
- **μλ™ μ¬μ—°κ²°**: μ—°κ²°μ΄ λμ–΄μ§€λ©΄ ν΄λΌμ΄μ–ΈνΈκ°€ μλ™μΌλ΅ μ¬μ—°κ²°μ„ μ‹λ„ν•©λ‹λ‹¤.
  
- **μ–‘λ°©ν–¥ ν†µμ‹ μ΄ ν•„μ” μ—†λ” κ²½μ°**: λ‹¨μν μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈλ΅ λ°μ΄ν„°λ¥Ό ν‘Έμ‹ν•λ” κ²½μ° μ ν•©ν•©λ‹λ‹¤.

<br/>

### Server Sent Eventsμ λ‹¨μ 

- **λ‹¨λ°©ν–¥ ν†µμ‹ **: ν΄λΌμ΄μ–ΈνΈμ—μ„ μ„λ²„λ΅ λ©”μ‹μ§€λ¥Ό λ³΄λ‚΄λ” κΈ°λ¥μ€ μ—†μµλ‹λ‹¤. λ”°λΌμ„ μ–‘λ°©ν–¥ ν†µμ‹ μ΄ ν•„μ”ν• κ²½μ°μ—λ” WebSocketμ„ μ‚¬μ©ν•λ” κ²ƒμ΄ λ” μ ν•©ν•©λ‹λ‹¤.
  
- **HTTP κΈ°λ°**: HTTP/2λ¥Ό μ‚¬μ©ν•μ§€ μ•μΌλ©΄ κ° μ—°κ²°λ§λ‹¤ μƒλ΅μ΄ μ”μ²­μ΄ ν•„μ”ν•λ―€λ΅, λ€κ·λ¨ μ‹¤μ‹κ°„ ν†µμ‹ μ— μ ν•©ν•μ§€ μ•μ„ μ μμµλ‹λ‹¤.

<br/>

### Server Sent Events μ‚¬μ©μ΄ μ ν•©ν• κ²½μ°

- **μ‹¤μ‹κ°„ μ—…λ°μ΄νΈκ°€ ν•„μ”ν• κ²½μ°**
    - μ„λ²„μ—μ„ λ°μƒν•λ” μ΄λ²¤νΈλ¥Ό ν΄λΌμ΄μ–ΈνΈμ— μ‹¤μ‹κ°„μΌλ΅ μ•λ¦¬λ” κ²ƒμ΄ μ¤‘μ”ν• μ• ν”λ¦¬μΌ€μ΄μ…μ— μ ν•©ν•©λ‹λ‹¤.
    - **μμ‹**: μ£Όμ‹ μ‹μ„Έ, λ‚ μ”¨ μ—…λ°μ΄νΈ, λ‰΄μ¤ ν”Όλ“, μ¤ν¬μΈ  κ²½κΈ° κ²°κ³Όμ™€ κ°™μ€ μ‹¤μ‹κ°„ μ •λ³΄λ¥Ό μ κ³µν•λ” μ„λΉ„μ¤.
      
- **λΉλ²ν• λ°μ΄ν„° ν‘Έμ‹κ°€ ν•„μ”ν• κ²½μ°**
    - μ„λ²„μ—μ„ λ°μ΄ν„°κ°€ μμ£Ό μ—…λ°μ΄νΈλκ³ , μ΄λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—κ² μ¦‰κ°μ μΌλ΅ μ „λ‹¬ν•΄μ•Ό ν•  λ• μ μ©ν•©λ‹λ‹¤.
    - **μμ‹**: λ€μ‹λ³΄λ“, μ‹¤μ‹κ°„ λ΅κ·Έ λ¨λ‹ν„°λ§, μ‹¤μ‹κ°„ λ¶„μ„ μ‹μ¤ν….
      
- **μ•λ¦Ό μ‹μ¤ν…**
    - μ„λ²„μ—μ„ λ°μƒν•λ” νΉμ • μ΄λ²¤νΈ(μ•λ¦Ό, λ©”μ‹μ§€ λ“±)λ¥Ό μ‹¤μ‹κ°„μΌλ΅ ν΄λΌμ΄μ–ΈνΈμ— ν‘Έμ‹ν•  λ• SSEλ¥Ό μ‚¬μ©ν•  μ μμµλ‹λ‹¤.
    - **μμ‹**: μ±„ν… μ‹μ¤ν…μ—μ„ μƒ λ©”μ‹μ§€κ°€ μ¬ λ• μ‚¬μ©μμ—κ² μ•λ¦Όμ„ ν‘Έμ‹ν•λ” κ²½μ°.
      
- **λ‹¨λ°©ν–¥ ν†µμ‹ μ΄ μ¶©λ¶„ν• κ²½μ°**
    - ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„λ΅ μ‘λ‹µμ„ λ³΄λ‚Ό ν•„μ”κ°€ μ—†λ”, **λ‹¨λ°©ν–¥ ν†µμ‹ **μ΄ μ¶©λ¶„ν• μƒν™©μ—μ„ SSEκ°€ μ ν•©ν•©λ‹λ‹¤.
    - **μμ‹**: ν΄λΌμ΄μ–ΈνΈμ—μ„ μ„λ²„μ μƒνƒ λ³€ν™”λ¥Ό κ΄€μ°°ν•λ” λ€μ‹λ³΄λ“μ™€ κ°™μ΄ μ„λ²„κ°€ μ£ΌκΈ°μ μΌλ΅ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•λ” κ²½μ°.
      
- **μ–‘λ°©ν–¥ ν†µμ‹ μ΄ ν•„μ”ν•μ§€ μ•μ„ λ•**
    - **μ›Ήμ†μΌ“**κ³Ό λ‹¬λ¦¬, SSEλ” μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈλ΅μ μΌλ°©ν–¥ λ°μ΄ν„° μ „μ†΅μ„ ν¨μ¨μ μΌλ΅ μ²λ¦¬ν•©λ‹λ‹¤. ν΄λΌμ΄μ–ΈνΈμ—μ„ μ„λ²„λ΅μ μ‘λ‹µμ΄ ν•„μ” μ—†λ” μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„λ” WebSocketλ³΄λ‹¤ SSEκ°€ λ” μ ν•©ν•  μ μμµλ‹λ‹¤.
    - **μμ‹**: μ±„ν… μ•±μ—μ„ λ©”μ‹μ§€ μ „μ†΅ μμ²΄λ” ν΄λΌμ΄μ–ΈνΈμ—μ„ μ„λ²„λ΅μ μ”μ²­μ΄ μμ§€λ§, μ±„ν… λ©”μ‹μ§€ μμ‹ μ€ μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈλ΅ μΌλ°©μ μΌλ΅ μ „λ‹¬λλ” κ²½μ°.
      
- **κ°„λ‹¨ν• μ‹¤μ‹κ°„ ν†µμ‹  κµ¬ν„μ΄ ν•„μ”ν• κ²½μ°**
    - SSEλ” WebSocketκ³Ό λ‹¬λ¦¬ μƒλ€μ μΌλ΅ κ°„λ‹¨ν• μ„¤μ •μΌλ΅ μ‹¤μ‹κ°„ ν†µμ‹ μ„ κµ¬ν„ν•  μ μμµλ‹λ‹¤. νΉν, **μ–‘λ°©ν–¥ ν†µμ‹ **μ΄ ν•„μ” μ—†κ³  **μλ™ μ¬μ—°κ²°** κΈ°λ¥μ΄ μ μ©ν• κ²½μ°μ— μ ν•©ν•©λ‹λ‹¤.
    - **μμ‹**: μ‹¤μ‹κ°„ μ£Όμ‹ μ°¨νΈλ‚ μ‹¤μ‹κ°„ μ„λ²„ μƒνƒ λ¨λ‹ν„°λ§ μ• ν”λ¦¬μΌ€μ΄μ….

<br/>

### Server Sent Events μ‚¬μ©μ΄ μ ν•©ν•μ§€ μ•μ€ κ²½μ°

- **μ–‘λ°©ν–¥ ν†µμ‹ μ΄ ν•„μ”ν• κ²½μ°**
    - ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ **μ–‘λ°©ν–¥ λ°μ΄ν„° κµν™**μ΄ ν•„μ”ν• κ²½μ°μ—λ” SSE λ€μ‹  **WebSocket**μ΄ μ ν•©ν•©λ‹λ‹¤. μλ¥Ό λ“¤μ–΄, μ‹¤μ‹κ°„ μ±„ν…μ΄λ‚ κ²μ„κ³Ό κ°™μ΄ μ–‘μ½μ—μ„ λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›μ•„μ•Ό ν•λ” κ²½μ°μ—λ” WebSocketμ΄ λ” λ‚μ€ μ„ νƒμ…λ‹λ‹¤.
      
- **λΈλΌμ°μ € νΈν™μ„± λ¬Έμ κ°€ μ¤‘μ”ν• κ²½μ°**
    - SSEλ” λ€λ¶€λ¶„μ μµμ‹  λΈλΌμ°μ €μ—μ„ μ§€μ›λμ§€λ§, μ¤λλ λΈλΌμ°μ €λ‚ νΉμ • ν™κ²½μ—μ„λ” μ§€μ›λμ§€ μ•μ„ μ μμµλ‹λ‹¤. μ΄λ° κ²½μ° ν΄λ§μ΄λ‚ WebSocket κ°™μ€ λ€μ•μ΄ ν•„μ”ν•  μ μμµλ‹λ‹¤.
      
- **κ·λ¨κ°€ λ§¤μ° ν° μ‹¤μ‹κ°„ μ‹μ¤ν…**
    - μλ§μ€ ν΄λΌμ΄μ–ΈνΈκ°€ μ—°κ²°λ ν™κ²½μ—μ„λ” SSEκ°€ **HTTP μ—°κ²°μ„ κ³„μ† μ μ§€**ν•΄μ•Ό ν•κΈ° λ•λ¬Έμ— μ„λ²„μ— λ¶€λ‹΄μ„ μ¤„ μ μμµλ‹λ‹¤. λ€κ·λ¨ μ‹¤μ‹κ°„ μ‹μ¤ν…μ—μ„ μ„±λ¥ μµμ ν™”κ°€ μ¤‘μ”ν• κ²½μ°, WebSocketμ΄λ‚ λ‹¤λ¥Έ κΈ°μ μ„ μ‚¬μ©ν•λ” κ²ƒμ΄ μ ν•©ν•  μ μμµλ‹λ‹¤.
    
<br/>

### Server Sent Events μ‚¬μ©ν•κΈ°

**μ„λ²„ μ½”λ“**

```jsx
// server/app.js

const express = require('express'); // Express λ¨λ“μ„ λ¶λ¬μµλ‹λ‹¤.
const app = express(); // Express μ• ν”λ¦¬μΌ€μ΄μ…μ„ μƒμ„±ν•©λ‹λ‹¤.

app.get('/events', (req, res) => {
  // SSE(Server-Sent Events) μ—”λ“ν¬μΈνΈ μ„¤μ •
  // μ‘λ‹µ ν—¤λ” μ„¤μ •: SSEλ” μ¤νΈλ¦¬λ° λ°©μ‹μ΄λ―€λ΅ Content-Typeμ„ 'text/event-stream'μΌλ΅ μ„¤μ •
  res.setHeader('Content-Type', 'text/event-stream');
  // λΈλΌμ°μ €λ‚ μ¤‘κ°„ μΊμ‹±μ„ λ°©μ§€ν•κΈ° μ„ν•΄ Cache-Controlμ„ 'no-cache'λ΅ μ„¤μ •
  res.setHeader('Cache-Control', 'no-cache');
  // μ—°κ²°μ„ μ μ§€ν•λ„λ΅ Connectionμ„ 'keep-alive'λ΅ μ„¤μ •
  res.setHeader('Connection', 'keep-alive');
  // CORS(Cross-Origin Resource Sharing)λ¥Ό ν—μ©ν•κΈ° μ„ν• ν—¤λ” μ„¤μ • (λ¨λ“  μ¶μ² ν—μ©)
  res.setHeader('Access-Control-Allow-Origin', '*');

  // 5μ΄λ§λ‹¤ ν΄λΌμ΄μ–ΈνΈμ— λ©”μ‹μ§€λ¥Ό μ „μ†΅ν•λ” μΈν„°λ² μ„¤μ •
  const intervalId = setInterval(() => {
    // ν„μ¬ μ‹κ°„μ„ 'data' ν•„λ“λ΅ λ³΄λ‚΄λ” SSE λ©”μ‹μ§€ μ‘μ„± λ° μ „μ†΅
    res.write(`data: ${new Date().toLocaleTimeString()}\n\n`);
  }, 5000);

  // ν΄λΌμ΄μ–ΈνΈκ°€ μ—°κ²°μ„ λμΌλ©΄ μΈν„°λ²μ„ μ κ±°ν•μ—¬ μ„λ²„ μμ› λ‚­λΉ„ λ°©μ§€
  req.on('close', () => {
    clearInterval(intervalId); // ν΄λΌμ΄μ–ΈνΈκ°€ μ—°κ²°μ„ λ‹«μΌλ©΄ μΈν„°λ² μ¤‘μ§€
  });
});

// μ„λ²„λ¥Ό 8080λ² ν¬νΈμ—μ„ μ‹¤ν–‰
app.listen(8080, () => {
  console.log('Server is running on port 8080');
});
```

<br/>

**ν΄λΌμ΄μ–ΈνΈ μ½”λ“**

```jsx
// client/index.html

<!DOCTYPE html>
<html>
  <body>
    <h1>Server-Sent Events</h1>
    <!-- μ‹¤μ‹κ°„μΌλ΅ μ„λ²„μ—μ„ μ „μ†΅λλ” λ°μ΄ν„°λ¥Ό ν‘μ‹ν•  μμ—­ -->
    <div id="result"></div>

    <script>
      // EventSource κ°μ²΄λ¥Ό μƒμ„±ν•κ³ , μ„λ²„μ '/events' μ—”λ“ν¬μΈνΈμ— μ—°κ²°
      const eventSource = new EventSource('http://localhost:8080/events');

      // μ„λ²„μ—μ„ λ©”μ‹μ§€κ°€ μμ‹ λ  λ•λ§λ‹¤ μ‹¤ν–‰λλ” μ΄λ²¤νΈ ν•Έλ“¤λ¬
      eventSource.onmessage = function(event) {
        // μμ‹ λ λ°μ΄ν„°λ¥Ό <div id="result"> μμ—­μ— μ¶”κ°€
        document.getElementById('result').innerHTML += event.data + '<br>';
      };
    </script>
  </body>
</html>
```

<br/>

**λ™μ‘ λ°©μ‹**

- ν΄λΌμ΄μ–ΈνΈκ°€ `/events` κ²½λ΅λ΅ μ”μ²­μ„ λ³΄λƒ…λ‹λ‹¤.
- μ„λ²„λ” μ‘λ‹µμ Content-Typeμ„ `text/event-stream`μΌλ΅ μ„¤μ •ν•κ³ , 5μ΄λ§λ‹¤ ν΄λΌμ΄μ–ΈνΈμ— ν„μ¬ μ‹κ°„μ„ μ΄λ²¤νΈλ΅ μ „μ†΅ν•©λ‹λ‹¤.
- ν΄λΌμ΄μ–ΈνΈλ” `EventSource` κ°μ²΄λ¥Ό μ‚¬μ©ν•μ—¬ μ„λ²„λ΅λ¶€ν„° μ¤λ” λ°μ΄ν„°λ¥Ό μ§€μ†μ μΌλ΅ λ°›μµλ‹λ‹¤.

<br/>

## μ°Έκ³  μ‚¬μ΄νΈ

https://inpa.tistory.com/entry/NODE-π“-Server-Sent-Events-π’―-μ •λ¦¬-μ‚¬μ©λ²•